# project_2025.08.12

Сервис для загрузки прошивок (firmware) на оборудование MikroTik, разворачивается в 3-х Docker-контейнерах web, nginx и microtik.
Есть проверка строки IP адреса на соответствие стандарту IPv4 и есть валидация загружаемого файла прошивки по метаданным (MIME type), есть ограничение размера загружаемого файла не более 32Mb в настройках NGINX.
- Открыты порты:
- 8728 api
- 8729 api-ssl
- 2122 ftp (порт ftp 21 изменен на 2122)
- 22 ssh
- 23 telnet
- 8291 winbox
- 80 контейнер microtik вход
- 8000 контейнер web главная страница и документация


Применяются технологии:

- FastAPI
- Python 3.12
- Docker / Docker compose

Зависимости:
- fastapi==0.116.1
- uvicorn==0.35.0
- python-multipart==0.0.20
- pydantic==2.11.7
- pydantic-settings==2.10.1

Для развертывания необходимо:

- Скопировать файл docker-compose.production.yml
- Создать файл .env с необходимыми данными указанными в .env.example
- Запустить Docker

```sh
docker compose -f docker-compose.production.yml up
```

- В консоли появиться IP тестового роутера
- Перейти в тестовый роутер по адресу http://localhost
- Установить пароль для входа который ранее был прописан в .env
- Перейти в раздел IP -> Services и изменить порт FTP 21 -> 2122
- Перейти по адресу http://localhost:8000 откроется главная страница, в форму нужно прописать IP роутера и выбрать файл с прошивкой с сайта производителя (https://mikrotik.com/download), нажать на кнопку "Загрузить", если файл с прошивкой соответствует типу 'application/octet-stream' то будет загружен в корневую директорию тестового роутера.


## Документация доступна по адресам

- <http://127.0.0.1:8000/docs>

- <http://127.0.0.1:8000/redoc>
